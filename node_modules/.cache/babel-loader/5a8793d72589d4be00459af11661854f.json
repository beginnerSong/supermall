{"remainingRequest":"C:\\Users\\86187\\Desktop\\小码vue\\supermall\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\86187\\Desktop\\小码vue\\supermall\\src\\store\\actions.js","dependencies":[{"path":"C:\\Users\\86187\\Desktop\\小码vue\\supermall\\src\\store\\actions.js","mtime":1632675306467},{"path":"C:\\Users\\86187\\Desktop\\小码vue\\supermall\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\86187\\Desktop\\小码vue\\supermall\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQuanMiOwppbXBvcnQgeyBBRERfQ09VTlRFUiwgQUREX1RPX0NBUlQgfSBmcm9tICcuL211dGF0aW9ucy10eXBlcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBhZGRDYXJ0OiBmdW5jdGlvbiBhZGRDYXJ0KGNvbnRleHQsIHBhbHlsb2FkKSB7CiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAvLyBwYWx5bG9hZCAg5paw5re75Yqg55qE5ZWG5ZOBCiAgICAgIC8vIOWIpOaWrei0reeJqei9puS4reaYr+WQpuW3suacieivpeWVhuWTgSDlpoLmnpzmnInmlbDph4/liqDkuIAg5aaC5p6c5rKh5pyJIOWKoOWFpei0reeJqei9pgogICAgICAvLyDnrKzkuIDnp43mlrnms5UgZm9y5b6q546v5pa55rOVCiAgICAgIC8vIDEuMSDmn6Xmib7kuYvliY3mlbDnu4TkuK3mmK/lkKbmnInor6XllYblk4EKICAgICAgLy8gbGV0IG9sZFByb2R1Y3QgPSBudWxsOwogICAgICAvLyBmb3IobGV0IGl0ZW0gb2Ygc3RhdGUuY2FydExpc3QpIHsKICAgICAgLy8gICBpZihpdGVtLmlpZCA9PT0gcGFseWxvYWQuaWlkKSB7CiAgICAgIC8vICAgICBvbGRQcm9kdWN0ID0gaXRlbTsKICAgICAgLy8gICB9CiAgICAgIC8vIH0KICAgICAgLy8gLy8gMS4yIOWIpOaWrW9sZFByb2R1Y3QKICAgICAgLy8gaWYob2xkUHJvZHVjdCkgewogICAgICAvLyAgIG9sZFByb2R1Y3QuY291bnQgKz0gMQogICAgICAvLyB9IGVsc2UgewogICAgICAvLyAgIHBhbHlsb2FkLmNvdW50ID0gMQogICAgICAvLyAgIHN0YXRlLmNhcnRMaXN0LnB1c2gocGFseWxvYWQpCiAgICAgIC8vIH0KICAgICAgLy8g56ys5LqM56eN5pa55rOVICDmlbDnu4Tmlrnms5UKICAgICAgLy8gMi4xIOafpeaJvuS5i+WJjeaVsOe7hOS4reaYr+WQpuacieivpeWVhuWTgQogICAgICAvLyBsZXQgb2xkUHJvZHVjdCA9IHN0YXRlLmNhcnRMaXN0LmZpbmQoaXRlbSA9PiBpdGVtLmlpZCA9PT0gcGFseWxvYWQuaWlkKQogICAgICAvLyAyLjIg5Yik5patb2xkUHJvZHVjdAogICAgICAvLyAgaWYob2xkUHJvZHVjdCkgewogICAgICAvLyAgICAgb2xkUHJvZHVjdC5jb3VudCArPSAxCiAgICAgIC8vICAgfSBlbHNlIHsKICAgICAgLy8gICAgIHBhbHlsb2FkLmNvdW50ID0gMQogICAgICAvLyAgICAgc3RhdGUuY2FydExpc3QucHVzaChwYWx5bG9hZCkKICAgICAgLy8gICB9CiAgICAgIC8vIHZ1ZXjph43mnoQg5pa55L6/5ZCO5pyf57u05oqkCiAgICAgIC8vIDEg5p+l5om+5LmL5YmN5pWw57uE5Lit5piv5ZCm5pyJ6K+l5ZWG5ZOBCiAgICAgIHZhciBvbGRQcm9kdWN0ID0gY29udGV4dC5zdGF0ZS5jYXJ0TGlzdC5maW5kKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW0uaWlkID09PSBwYWx5bG9hZC5paWQ7CiAgICAgIH0pOyAvLyAuMiDliKTmlq1vbGRQcm9kdWN0CgogICAgICBpZiAob2xkUHJvZHVjdCkgewogICAgICAgIC8vIOaVsOmHjysxCiAgICAgICAgLy8gb2xkUHJvZHVjdC5jb3VudCArPSAxCiAgICAgICAgY29udGV4dC5jb21taXQoQUREX0NPVU5URVIsIG9sZFByb2R1Y3QpOwogICAgICAgIHJlc29sdmUoJ+W9k+WJjeWVhuWTgeaVsOmHjysxJyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8g5re75Yqg5paw5ZWG5ZOBCiAgICAgICAgcGFseWxvYWQuY291bnQgPSAxOyAvLyBzdGF0ZS5jYXJ0TGlzdC5wdXNoKHBhbHlsb2FkKQoKICAgICAgICBjb250ZXh0LmNvbW1pdChBRERfVE9fQ0FSVCwgcGFseWxvYWQpOwogICAgICAgIHJlc29sdmUoJ+aIkOWKn+a3u+WKoOWIsOi0reeJqei9picpOwogICAgICB9CiAgICB9KTsKICB9Cn07"},{"version":3,"sources":["C:/Users/86187/Desktop/小码vue/supermall/src/store/actions.js"],"names":["ADD_COUNTER","ADD_TO_CART","addCart","context","palyload","Promise","resolve","reject","oldProduct","state","cartList","find","item","iid","commit","count"],"mappings":";;AAAA,SACEA,WADF,EAEEC,WAFF,QAGO,mBAHP;AAKA,eAAe;AACbC,EAAAA,OADa,mBACLC,OADK,EACIC,QADJ,EACc;AACzB,WAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtC;AAEF;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEC;AACD;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA,UAAIC,UAAU,GAAGL,OAAO,CAACM,KAAR,CAAcC,QAAd,CAAuBC,IAAvB,CAA4B,UAAAC,IAAI;AAAA,eAAIA,IAAI,CAACC,GAAL,KAAaT,QAAQ,CAACS,GAA1B;AAAA,OAAhC,CAAjB,CApCwC,CAsCxC;;AACA,UAAGL,UAAH,EAAe;AAAG;AACd;AACAL,QAAAA,OAAO,CAACW,MAAR,CAAed,WAAf,EAA4BQ,UAA5B;AACAF,QAAAA,OAAO,CAAC,UAAD,CAAP;AACD,OAJH,MAIS;AAAE;AACPF,QAAAA,QAAQ,CAACW,KAAT,GAAiB,CAAjB,CADK,CAEL;;AACAZ,QAAAA,OAAO,CAACW,MAAR,CAAeb,WAAf,EAA4BG,QAA5B;AACAE,QAAAA,OAAO,CAAC,UAAD,CAAP;AACD;AACF,KAjDM,CAAP;AAkDD;AApDY,CAAf","sourcesContent":["import {\r\n  ADD_COUNTER,\r\n  ADD_TO_CART\r\n} from './mutations-types'\r\n\r\nexport default {\r\n  addCart(context, palyload) {\r\n    return new Promise((resolve, reject) => {\r\n      // palyload  新添加的商品\r\n\r\n    // 判断购物车中是否已有该商品 如果有数量加一 如果没有 加入购物车\r\n\r\n    // 第一种方法 for循环方法\r\n    // 1.1 查找之前数组中是否有该商品\r\n    // let oldProduct = null;\r\n    // for(let item of state.cartList) {\r\n    //   if(item.iid === palyload.iid) {\r\n    //     oldProduct = item;\r\n    //   }\r\n    // }\r\n    \r\n    // // 1.2 判断oldProduct\r\n    // if(oldProduct) {\r\n    //   oldProduct.count += 1\r\n    // } else {\r\n    //   palyload.count = 1\r\n    //   state.cartList.push(palyload)\r\n    // }\r\n\r\n    // 第二种方法  数组方法\r\n    // 2.1 查找之前数组中是否有该商品\r\n    // let oldProduct = state.cartList.find(item => item.iid === palyload.iid)\r\n\r\n     // 2.2 判断oldProduct\r\n    //  if(oldProduct) {\r\n    //     oldProduct.count += 1\r\n    //   } else {\r\n    //     palyload.count = 1\r\n    //     state.cartList.push(palyload)\r\n    //   }\r\n    \r\n    // vuex重构 方便后期维护\r\n    // 1 查找之前数组中是否有该商品\r\n    let oldProduct = context.state.cartList.find(item => item.iid === palyload.iid)\r\n\r\n    // .2 判断oldProduct\r\n    if(oldProduct) {  // 数量+1\r\n        // oldProduct.count += 1\r\n        context.commit(ADD_COUNTER, oldProduct)\r\n        resolve('当前商品数量+1')\r\n      } else { // 添加新商品\r\n        palyload.count = 1\r\n        // state.cartList.push(palyload)\r\n        context.commit(ADD_TO_CART, palyload)\r\n        resolve('成功添加到购物车')\r\n      }\r\n    })\r\n  }\r\n}"]}]}