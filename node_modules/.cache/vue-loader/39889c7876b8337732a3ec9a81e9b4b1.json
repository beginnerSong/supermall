{"remainingRequest":"C:\\Users\\86187\\Desktop\\小码vue\\supermall\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\86187\\Desktop\\小码vue\\supermall\\src\\views\\detail\\Detail.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\86187\\Desktop\\小码vue\\supermall\\src\\views\\detail\\Detail.vue","mtime":1632680982315},{"path":"C:\\Users\\86187\\Desktop\\小码vue\\supermall\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\86187\\Desktop\\小码vue\\supermall\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\86187\\Desktop\\小码vue\\supermall\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\86187\\Desktop\\小码vue\\supermall\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgRGV0YWlsTmF2QmFyIGZyb20gIi4vY2hpbGRDb21wcy9EZXRhaWxOYXZCYXIiOw0KaW1wb3J0IERldGFpbFN3aXBlciBmcm9tICIuL2NoaWxkQ29tcHMvRGV0YWlsU3dpcGVyIjsNCmltcG9ydCBEZXRhaWxCYXNlSW5mbyBmcm9tICIuL2NoaWxkQ29tcHMvRGV0YWlsQmFzZUluZm8iOw0KaW1wb3J0IERldGFpbFNob3BJbmZvIGZyb20gIi4vY2hpbGRDb21wcy9EZXRhaWxTaG9wSW5mbyI7DQppbXBvcnQgRGV0YWlsR29vZHNJbmZvIGZyb20gIi4vY2hpbGRDb21wcy9EZXRhaWxHb29kc0luZm8iOw0KaW1wb3J0IERldGFpbFBhcmFtc0luZm8gZnJvbSAiLi9jaGlsZENvbXBzL0RldGFpbFBhcmFtc0luZm8iDQppbXBvcnQgRGV0YWlsQ29tbWVudEluZm8gZnJvbSAiLi9jaGlsZENvbXBzL0RldGFpbENvbW1lbnRJbmZvIg0KaW1wb3J0IERldGFpbEJvdHRvbUJhciBmcm9tICcuL2NoaWxkQ29tcHMvRGV0YWlsQm90dG9tQmFyLnZ1ZSc7DQoNCmltcG9ydCBTY3JvbGwgZnJvbSAiY29tcG9uZW50cy9jb21tb24vc2Nyb2xsL1Njcm9sbCI7DQppbXBvcnQgR29vZHNMaXN0IGZyb20gImNvbXBvbmVudHMvY29udGVudC9nb29kcy9Hb29kc0xpc3QiOw0KaW1wb3J0IEJhY2tUb3AgZnJvbSAiY29tcG9uZW50cy9jb250ZW50L2JhY2tUb3AvQmFja1RvcCI7DQppbXBvcnQgVG9hc3QgZnJvbSAnY29tcG9uZW50cy9jb21tb24vdG9hc3QvVG9hc3QnOw0KDQoNCmltcG9ydCB7IGdldERldGFpbCwgR29vZHMsIFNob3AsIEdvb2RzUGFyYW0sIGdldFJlY29tbWVuZH0gZnJvbSAibmV0d29yay9kZXRhaWwiOw0KaW1wb3J0IHtkZWJvdW5jZX0gZnJvbSAnY29tbW9uL3V0aWxzJw0KaW1wb3J0IHttYXBBY3Rpb25zfSBmcm9tICd2dWV4Jw0KDQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogIkRldGFpbCIsDQogIGNvbXBvbmVudHM6IHsNCiAgICBEZXRhaWxOYXZCYXIsDQogICAgRGV0YWlsU3dpcGVyLA0KICAgIERldGFpbEJhc2VJbmZvLA0KICAgIERldGFpbFNob3BJbmZvLA0KICAgIERldGFpbEdvb2RzSW5mbywNCiAgICBEZXRhaWxQYXJhbXNJbmZvLA0KICAgIERldGFpbENvbW1lbnRJbmZvLA0KICAgIFNjcm9sbCwNCiAgICBHb29kc0xpc3QsDQogICAgRGV0YWlsQm90dG9tQmFyLA0KICAgIEJhY2tUb3AsDQogICAgVG9hc3QNCiAgfSwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgaWlkOiBudWxsLA0KICAgICAgdG9wSW1hZ2VzOiBbXSwNCiAgICAgIGdvb2RzOiB7fSwNCiAgICAgIHNob3A6IHt9LA0KICAgICAgZGV0YWlsSW5mbzoge30sDQogICAgICBwYXJhbUluZm86IHt9LA0KICAgICAgY29tbWVudEluZm86IHt9LA0KICAgICAgcmVjb21tZW5kczogW10sDQogICAgICBpdGVtSW1nTGlzdGVuZXI6IG51bGwsDQogICAgICB0aGVtZVRvcFlzOiBbXSwNCiAgICAgIGN1cnJlbnRJbmRleDogMCwNCiAgICAgIGlzU2hvd0JhY2tUb3A6IGZhbHNlLA0KICAgICAgbWVzc2FnZTogJycsDQogICAgICBzaG93OiBmYWxzZQ0KICAgIH07DQogIH0sDQogIGNyZWF0ZWQoKSB7DQogICAgLy8gMS7kv53lrZjkvKDlhaXnmoRpaWQNCiAgICB0aGlzLmlpZCA9IHRoaXMuJHJvdXRlLnBhcmFtcy5paWQ7DQoNCiAgICAvLyAyLuagueaNrmlpZOivt+axguaVsOaNrg0KICAgIGdldERldGFpbCh0aGlzLmlpZCkudGhlbigocmVzKSA9PiB7DQogICAgICAvLyBjb25zb2xlLmxvZyhyZXMpOw0KICAgICAgLy8gMS7ojrflj5bmlbDmja4NCiAgICAgIGNvbnN0IGRhdGEgPSByZXMucmVzdWx0Ow0KDQogICAgICAvLyAyLuiOt+WPlumhtumDqOeahOWbvueJh+i9ruaSreaVsOaNrg0KICAgICAgdGhpcy50b3BJbWFnZXMgPSBkYXRhLml0ZW1JbmZvLnRvcEltYWdlczsNCg0KICAgICAgLy8gMy7ojrflj5bllYblk4Hkv6Hmga8NCiAgICAgIHRoaXMuZ29vZHMgPSBuZXcgR29vZHMoDQogICAgICAgIGRhdGEuaXRlbUluZm8sDQogICAgICAgIGRhdGEuY29sdW1ucywNCiAgICAgICAgZGF0YS5zaG9wSW5mby5zZXJ2aWNlcw0KICAgICAgKTsNCg0KICAgICAgLy8gNC7liJvlu7rlupfpk7rkv6Hmga/nmoTlr7nosaENCiAgICAgIHRoaXMuc2hvcCA9IG5ldyBTaG9wKGRhdGEuc2hvcEluZm8pOw0KDQogICAgICAvLyA1LuS/neWtmOWVhuWTgeeahOivpuaDheaVsOaNrg0KICAgICAgdGhpcy5kZXRhaWxJbmZvID0gZGF0YS5kZXRhaWxJbmZvDQoNCiAgICAgIC8vIDYu6I635Y+W5Y+C5pWw5L+h5oGvDQogICAgICB0aGlzLnBhcmFtSW5mbyA9IG5ldyBHb29kc1BhcmFtKGRhdGEuaXRlbVBhcmFtcy5pbmZvLCBkYXRhLml0ZW1QYXJhbXMucnVsZSkNCg0KICAgICAgLy8gNy7lj5blh7ror4Torrrkv6Hmga8NCiAgICAgIGlmKGRhdGEucmF0ZS5jUmF0ZSAhPT0gMCkgew0KICAgICAgICB0aGlzLmNvbW1lbnRJbmZvID0gZGF0YS5yYXRlLmxpc3RbMF0NCiAgICAgIH0NCg0KDQogICAgICAvLyDnrKzkuIDmrKHojrflj5bvvIzlgLzkuI3lr7kNCiAgICAgIC8vIOWAvOS4jeWvueeahOWOn+WboO+8jHRoaXMuJHJlZnMucGFyYW1zLiRlbOi/mOayoeaciea4suafk+WHuuadpQ0KICAgICAgLy8gICB0aGlzLnRoZW1lVG9wWXMgPSBbXQ0KDQogICAgICAvLyAgIC8vIOeCueWHu+i3s+i9rA0KICAgICAgLy8gICB0aGlzLnRoZW1lVG9wWXMucHVzaCgwKQ0KICAgICAgLy8gICB0aGlzLnRoZW1lVG9wWXMucHVzaCh0aGlzLiRyZWZzLnBhcmFtcy4kZWwub2Zmc2V0VG9wKQ0KICAgICAgLy8gICB0aGlzLnRoZW1lVG9wWXMucHVzaCh0aGlzLiRyZWZzLmNvbW1lbnQuJGVsLm9mZnNldFRvcCkNCiAgICAgIC8vICAgdGhpcy50aGVtZVRvcFlzLnB1c2godGhpcy4kcmVmcy5yZWNvbW1lbmQuJGVsLm9mZnNldFRvcCkNCg0KICAgICAgLy8gICBjb25zb2xlLmxvZyh0aGlzLnRoZW1lVG9wWXMpOw0KDQogICAgICAvLyAvLyDnrKzkuozmrKHojrflj5bvvIzlgLzkuI3lr7kNCiAgICAgIC8vIC8vIOWOn+WboO+8mua4suafk+WujOaIkCDkvYbmmK/lm77niYfmsqHmnInorqHnrpflnKjlhoUNCiAgICAgIC8vIHRoaXMuJG5leHRUaWNrKCgpID0+IHsNCiAgICAgIC8vICAgdGhpcy50aGVtZVRvcFlzID0gW10NCg0KICAgICAgLy8gICAvLyDngrnlh7vot7PovawNCiAgICAgIC8vICAgdGhpcy50aGVtZVRvcFlzLnB1c2goMCkNCiAgICAgIC8vICAgdGhpcy50aGVtZVRvcFlzLnB1c2godGhpcy4kcmVmcy5wYXJhbXMuJGVsLm9mZnNldFRvcCkNCiAgICAgIC8vICAgdGhpcy50aGVtZVRvcFlzLnB1c2godGhpcy4kcmVmcy5jb21tZW50LiRlbC5vZmZzZXRUb3ApDQogICAgICAvLyAgIHRoaXMudGhlbWVUb3BZcy5wdXNoKHRoaXMuJHJlZnMucmVjb21tZW5kLiRlbC5vZmZzZXRUb3ApDQoNCiAgICAgIC8vICAgY29uc29sZS5sb2codGhpcy50aGVtZVRvcFlzKTsNCiAgICAgIC8vIH0pDQogICAgfSk7DQoNCiAgICAvLyAzLuivt+axguaOqOiNkOaVsOaNrg0KICAgIGdldFJlY29tbWVuZCgpLnRoZW4ocmVzID0+IHsNCiAgICAgIC8vIGNvbnNvbGUubG9nKHJlcyk7DQogICAgICB0aGlzLnJlY29tbWVuZHMgPSByZXMuZGF0YS5saXN0DQogICAgfSkNCiAgfSwNCiAgbW91bnRlZCgpIHsNCiAgICBsZXQgcmVmcmVzaCA9IGRlYm91bmNlKHRoaXMuJHJlZnMuc2Nyb2xsLnJlZnJlc2gsIDEwMCkNCg0KICAgIHRoaXMuaXRlbUltZ0xpc3RlbmVyID0gKCkgPT4gew0KICAgICAgcmVmcmVzaCgpDQogICAgfQ0KDQogICAgdGhpcy4kYnVzLiRvbignaXRlbUltYWdlTG9hZCcsIHRoaXMuaXRlbUltZ0xpc3RlbmVyKQ0KDQogICAgDQogIH0sDQogIGRlc3Ryb3llZCgpIHsNCiAgICB0aGlzLiRidXMuJG9mZignaXRlbUltYWdlTG9hZCcsIHRoaXMuaXRlbUltZ0xpc3RlbmVyKQ0KICB9LA0KICBtZXRob2RzOiB7DQogICAgLi4ubWFwQWN0aW9ucyhbJ2FkZENhcnQnXSksDQogICAgaW1hZ2VMb2FkKCkgew0KICAgICAgdGhpcy4kcmVmcy5zY3JvbGwucmVmcmVzaCgpDQoNCiAgICAgIHRoaXMudGhlbWVUb3BZcyA9IFtdDQogICAgICB0aGlzLnRoZW1lVG9wWXMucHVzaCgwKQ0KICAgICAgdGhpcy50aGVtZVRvcFlzLnB1c2godGhpcy4kcmVmcy5wYXJhbXMuJGVsLm9mZnNldFRvcCkNCiAgICAgIHRoaXMudGhlbWVUb3BZcy5wdXNoKHRoaXMuJHJlZnMuY29tbWVudC4kZWwub2Zmc2V0VG9wKQ0KICAgICAgdGhpcy50aGVtZVRvcFlzLnB1c2godGhpcy4kcmVmcy5yZWNvbW1lbmQuJGVsLm9mZnNldFRvcCkNCiAgICAgIHRoaXMudGhlbWVUb3BZcy5wdXNoKE51bWJlci5NQVhfVkFMVUUpDQoNCiAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMudGhlbWVUb3BZcyk7DQogICAgfSwNCiAgICB0aXRsZUNsaWNrKGluZGV4KSB7DQogICAgICAvLyBjb25zb2xlLmxvZyhpbmRleCk7DQogICAgICB0aGlzLiRyZWZzLnNjcm9sbC5zY3JvbGxUbygwLCAtdGhpcy50aGVtZVRvcFlzW2luZGV4XSwgMTAwKQ0KICAgIH0sDQogICAgYmFja0NsaWNrKCkgew0KICAgICAgdGhpcy4kcmVmcy5zY3JvbGwuc2Nyb2xsVG8oMCwwLDUwMCkNCiAgICB9LA0KICAgIGNvbnRlbnRTY3JvbGwocG9zaXRpb24pIHsNCiAgICAgIC8vIGNvbnNvbGUubG9nKHBvc2l0aW9uKTsNCg0KICAgICAgLy8gMS7ojrflj5ZZ5YC8DQogICAgICBjb25zdCBwb3NpdGlvblkgPSAtcG9zaXRpb24ueQ0KDQogICAgICAvLyBwb3NpdGlvblkg5ZKMIOS4u+mimOS4reWAvOWvueavlA0KICAgICAgLy8gWzAsIDYyMzYsIDcwMzgsIDcyNTRdDQogICAgICAvLyBwb3NpdGlvblkg5ZyoIDAg5ZKMIDYyMzYg5LmL6Ze077yMaW5kZXggPSAwDQogICAgICAvLyBwb3NpdGlvblkg5ZyoIDYyMzYg5ZKMIDcwMzgg5LmL6Ze077yMaW5kZXggPSAxDQogICAgICAvLyBwb3NpdGlvblkg5ZyoIDcwMzgg5ZKMIDcyNTQg5LmL6Ze077yMaW5kZXggPSAyDQogICAgICAvLyBwb3NpdGlvblkg6LaF6L+HIDcyNTQg5pe277yMaW5kZXggPSAzDQogICAgICAgIC8vIGxldCBsZW5ndGggPSB0aGlzLnRoZW1lVG9wWXMubGVuZ3RoDQogICAgICAvLyBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7DQogICAgICAgIC8vIDEu5pyJ6Zeu6aKYIGkgPSAzIOaXtu+8jHBvc2l0aW9uWSA8IHRoaXMudGhlbWVUb3BZc1tpICsgMV3kuLp1bmRlZmluZWQNCiAgICAgICAgLy8gaWYgKHBvc2l0aW9uWSA+IHRoaXMudGhlbWVUb3BZc1tpXSAmJiBwb3NpdGlvblkgPCB0aGlzLnRoZW1lVG9wWXNbaSArIDFdKSB7DQogICAgICAgIC8vICAgY29uc29sZS5sb2coaSk7DQogICAgICAgIC8vIH0NCg0KICAgICAgICAvLyAyLuWPr+S7peWunueOsO+8jOS9huWIpOaWremAu+i+kei/h+S6juWkjeadgg0KICAgICAgICAvLyBpZiAodGhpcy5jdXJyZW50SW5kZXggIT09IGkgJiYgKChpIDwgbGVuZ3RoIC0gMSAmJiBwb3NpdGlvblkgPj0gdGhpcy50aGVtZVRvcFlzW2ldICYmIHBvc2l0aW9uWSA8IHRoaXMudGhlbWVUb3BZc1tpICsgMV0pIHx8IChpID09PSBsZW5ndGggLSAxICYmIHBvc2l0aW9uWSA+PSB0aGlzLnRoZW1lVG9wWXNbaV0pKSkgew0KICAgICAgICAvLyAgIHRoaXMuY3VycmVudEluZGV4ID0gaQ0KICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuY3VycmVudEluZGV4KTsNCiAgICAgIC8vICAgICB0aGlzLiRyZWZzLm5hdi5jdXJyZW50SW5kZXggPSB0aGlzLmN1cnJlbnRJbmRleA0KICAgICAgLy8gICB9DQogICAgICAvLyB9DQogICAgICAgIC8vIDMuaGFja+WGmeazlQ0KICAgICAgICBsZXQgbGVuZ3RoID0gdGhpcy50aGVtZVRvcFlzLmxlbmd0aA0KICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aCAtIDE7IGkrKykgew0KICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRJbmRleCAhPT0gaSAmJiAocG9zaXRpb25ZID49IHRoaXMudGhlbWVUb3BZc1tpXSAmJiBwb3NpdGlvblkgPCB0aGlzLnRoZW1lVG9wWXNbaSArIDFdKSkgew0KICAgICAgICAgICAgdGhpcy5jdXJyZW50SW5kZXggPSBpDQogICAgICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLmN1cnJlbnRJbmRleCk7DQogICAgICAgICAgICB0aGlzLiRyZWZzLm5hdi5jdXJyZW50SW5kZXggPSB0aGlzLmN1cnJlbnRJbmRleA0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgDQogICAgICAvLyAzLuWIpOaWrWJhY2tUb3DmmK/lkKbmmL7npLoNCiAgICAgIHRoaXMuaXNTaG93QmFja1RvcCA9ICgtcG9zaXRpb24ueSkgPiAxMDAwDQogICAgfSwNCiAgICBhZGRUb0NhcnQoKSB7DQogICAgICAvLyAxLuiOt+WPlui0reeJqei9pumcgOimgeeahOS/oeaBrw0KICAgICAgY29uc3QgcHJvZHVjdCA9IHt9DQogICAgICBwcm9kdWN0LmltYWdlID0gdGhpcy50b3BJbWFnZXNbMF07DQogICAgICBwcm9kdWN0LnRpdGxlID0gdGhpcy5nb29kcy50aXRsZTsNCiAgICAgIHByb2R1Y3QuZGVzYyA9IHRoaXMuZ29vZHMuZGVzYzsNCiAgICAgIHByb2R1Y3QucHJpY2UgPSB0aGlzLmdvb2RzLnJlYWxQcmljZTsNCiAgICAgIHByb2R1Y3QuaWlkID0gdGhpcy5paWQ7DQoNCiAgICAgIC8vIDIu5bCG5ZWG5ZOB5re75Yqg5Yiw6LSt54mp6L2m6YeMDQogICAgICAvLyB0aGlzLiRzdG9yZS5jb21taXQoJ2FkZENhcnQnLCBwcm9kdWN0KSAg5Lyg5YiwbXV0YXRpb25zICDmlrnmoYjkuIANCiAgICAgIC8vIOS8oOWIsGFjdGlvbnMg5pa55qGI5LqMDQogICAgICAvLyB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnYWRkQ2FydCcsIHByb2R1Y3QpLnRoZW4ocmVzID0+IHsNCiAgICAgIC8vICAgY29uc29sZS5sb2cocmVzKTsNCiAgICAgIC8vIH0pDQoNCiAgICAgIC8vIOS9v+eUqOaYoOWwhOWFs+ezuw0KICAgICAgdGhpcy5hZGRDYXJ0KHByb2R1Y3QpLnRoZW4ocmVzID0+IHsNCiAgICAgICAgLy8gdGhpcy5zaG93ID0gdHJ1ZTsNCiAgICAgICAgLy8gdGhpcy5tZXNzYWdlID0gcmVzOw0KDQogICAgICAgIC8vIHNldFRpbWVvdXQoKCkgPT4gew0KICAgICAgICAvLyAgIHRoaXMuc2hvdyA9IGZhbHNlOw0KICAgICAgICAvLyAgIHRoaXMubWVzc2FnZSA9ICcnOw0KICAgICAgICAvLyB9LCAxNTAwKQ0KDQogICAgICAgIGNvbnNvbGUubG9nKHRoaXMuJHRvYXN0KTsNCiAgICAgICAgdGhpcy4kdG9hc3Quc2hvdyhyZXMsIDIwMDApDQogICAgICB9KQ0KICAgIH0NCiAgfQ0KfTsNCg=="},{"version":3,"sources":["Detail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAmBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"Detail.vue","sourceRoot":"src/views/detail","sourcesContent":["<template>\r\n  <div id=\"datail\">\r\n    <detail-nav-bar class=\"detail-nav\" @titleClick=\"titleClick\" ref=\"nav\"/>\r\n    <scroll class=\"content\" ref=\"scroll\" :probe-type=\"3\" @scroll=\"contentScroll\">\r\n      <detail-swiper :top-images=\"topImages\" />\r\n      <detail-base-info :goods=\"goods\" />\r\n      <detail-shop-info :shop=\"shop\" />\r\n      <detail-goods-info :detail-info=\"detailInfo\" @imageLoad=\"imageLoad\"/>\r\n      <detail-params-info ref=\"params\" :param-info=\"paramInfo\" id=\"params\"/>\r\n      <detail-comment-info ref=\"comment\" :comment-info=\"commentInfo\"/>\r\n      <goods-list ref=\"recommend\" :goods=\"recommends\"/>  \r\n    </scroll>\r\n    <detail-bottom-bar @addCart=\"addToCart\"/>\r\n    <back-top @click.native=\"backClick\" v-show=\"isShowBackTop\"/>\r\n    <toast :message=\"message\" :show=\"show\"/>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport DetailNavBar from \"./childComps/DetailNavBar\";\r\nimport DetailSwiper from \"./childComps/DetailSwiper\";\r\nimport DetailBaseInfo from \"./childComps/DetailBaseInfo\";\r\nimport DetailShopInfo from \"./childComps/DetailShopInfo\";\r\nimport DetailGoodsInfo from \"./childComps/DetailGoodsInfo\";\r\nimport DetailParamsInfo from \"./childComps/DetailParamsInfo\"\r\nimport DetailCommentInfo from \"./childComps/DetailCommentInfo\"\r\nimport DetailBottomBar from './childComps/DetailBottomBar.vue';\r\n\r\nimport Scroll from \"components/common/scroll/Scroll\";\r\nimport GoodsList from \"components/content/goods/GoodsList\";\r\nimport BackTop from \"components/content/backTop/BackTop\";\r\nimport Toast from 'components/common/toast/Toast';\r\n\r\n\r\nimport { getDetail, Goods, Shop, GoodsParam, getRecommend} from \"network/detail\";\r\nimport {debounce} from 'common/utils'\r\nimport {mapActions} from 'vuex'\r\n\r\n\r\nexport default {\r\n  name: \"Detail\",\r\n  components: {\r\n    DetailNavBar,\r\n    DetailSwiper,\r\n    DetailBaseInfo,\r\n    DetailShopInfo,\r\n    DetailGoodsInfo,\r\n    DetailParamsInfo,\r\n    DetailCommentInfo,\r\n    Scroll,\r\n    GoodsList,\r\n    DetailBottomBar,\r\n    BackTop,\r\n    Toast\r\n  },\r\n  data() {\r\n    return {\r\n      iid: null,\r\n      topImages: [],\r\n      goods: {},\r\n      shop: {},\r\n      detailInfo: {},\r\n      paramInfo: {},\r\n      commentInfo: {},\r\n      recommends: [],\r\n      itemImgListener: null,\r\n      themeTopYs: [],\r\n      currentIndex: 0,\r\n      isShowBackTop: false,\r\n      message: '',\r\n      show: false\r\n    };\r\n  },\r\n  created() {\r\n    // 1.保存传入的iid\r\n    this.iid = this.$route.params.iid;\r\n\r\n    // 2.根据iid请求数据\r\n    getDetail(this.iid).then((res) => {\r\n      // console.log(res);\r\n      // 1.获取数据\r\n      const data = res.result;\r\n\r\n      // 2.获取顶部的图片轮播数据\r\n      this.topImages = data.itemInfo.topImages;\r\n\r\n      // 3.获取商品信息\r\n      this.goods = new Goods(\r\n        data.itemInfo,\r\n        data.columns,\r\n        data.shopInfo.services\r\n      );\r\n\r\n      // 4.创建店铺信息的对象\r\n      this.shop = new Shop(data.shopInfo);\r\n\r\n      // 5.保存商品的详情数据\r\n      this.detailInfo = data.detailInfo\r\n\r\n      // 6.获取参数信息\r\n      this.paramInfo = new GoodsParam(data.itemParams.info, data.itemParams.rule)\r\n\r\n      // 7.取出评论信息\r\n      if(data.rate.cRate !== 0) {\r\n        this.commentInfo = data.rate.list[0]\r\n      }\r\n\r\n\r\n      // 第一次获取，值不对\r\n      // 值不对的原因，this.$refs.params.$el还没有渲染出来\r\n      //   this.themeTopYs = []\r\n\r\n      //   // 点击跳转\r\n      //   this.themeTopYs.push(0)\r\n      //   this.themeTopYs.push(this.$refs.params.$el.offsetTop)\r\n      //   this.themeTopYs.push(this.$refs.comment.$el.offsetTop)\r\n      //   this.themeTopYs.push(this.$refs.recommend.$el.offsetTop)\r\n\r\n      //   console.log(this.themeTopYs);\r\n\r\n      // // 第二次获取，值不对\r\n      // // 原因：渲染完成 但是图片没有计算在内\r\n      // this.$nextTick(() => {\r\n      //   this.themeTopYs = []\r\n\r\n      //   // 点击跳转\r\n      //   this.themeTopYs.push(0)\r\n      //   this.themeTopYs.push(this.$refs.params.$el.offsetTop)\r\n      //   this.themeTopYs.push(this.$refs.comment.$el.offsetTop)\r\n      //   this.themeTopYs.push(this.$refs.recommend.$el.offsetTop)\r\n\r\n      //   console.log(this.themeTopYs);\r\n      // })\r\n    });\r\n\r\n    // 3.请求推荐数据\r\n    getRecommend().then(res => {\r\n      // console.log(res);\r\n      this.recommends = res.data.list\r\n    })\r\n  },\r\n  mounted() {\r\n    let refresh = debounce(this.$refs.scroll.refresh, 100)\r\n\r\n    this.itemImgListener = () => {\r\n      refresh()\r\n    }\r\n\r\n    this.$bus.$on('itemImageLoad', this.itemImgListener)\r\n\r\n    \r\n  },\r\n  destroyed() {\r\n    this.$bus.$off('itemImageLoad', this.itemImgListener)\r\n  },\r\n  methods: {\r\n    ...mapActions(['addCart']),\r\n    imageLoad() {\r\n      this.$refs.scroll.refresh()\r\n\r\n      this.themeTopYs = []\r\n      this.themeTopYs.push(0)\r\n      this.themeTopYs.push(this.$refs.params.$el.offsetTop)\r\n      this.themeTopYs.push(this.$refs.comment.$el.offsetTop)\r\n      this.themeTopYs.push(this.$refs.recommend.$el.offsetTop)\r\n      this.themeTopYs.push(Number.MAX_VALUE)\r\n\r\n      // console.log(this.themeTopYs);\r\n    },\r\n    titleClick(index) {\r\n      // console.log(index);\r\n      this.$refs.scroll.scrollTo(0, -this.themeTopYs[index], 100)\r\n    },\r\n    backClick() {\r\n      this.$refs.scroll.scrollTo(0,0,500)\r\n    },\r\n    contentScroll(position) {\r\n      // console.log(position);\r\n\r\n      // 1.获取Y值\r\n      const positionY = -position.y\r\n\r\n      // positionY 和 主题中值对比\r\n      // [0, 6236, 7038, 7254]\r\n      // positionY 在 0 和 6236 之间，index = 0\r\n      // positionY 在 6236 和 7038 之间，index = 1\r\n      // positionY 在 7038 和 7254 之间，index = 2\r\n      // positionY 超过 7254 时，index = 3\r\n        // let length = this.themeTopYs.length\r\n      // for (let i = 0; i < length; i++) {\r\n        // 1.有问题 i = 3 时，positionY < this.themeTopYs[i + 1]为undefined\r\n        // if (positionY > this.themeTopYs[i] && positionY < this.themeTopYs[i + 1]) {\r\n        //   console.log(i);\r\n        // }\r\n\r\n        // 2.可以实现，但判断逻辑过于复杂\r\n        // if (this.currentIndex !== i && ((i < length - 1 && positionY >= this.themeTopYs[i] && positionY < this.themeTopYs[i + 1]) || (i === length - 1 && positionY >= this.themeTopYs[i]))) {\r\n        //   this.currentIndex = i\r\n          // console.log(this.currentIndex);\r\n      //     this.$refs.nav.currentIndex = this.currentIndex\r\n      //   }\r\n      // }\r\n        // 3.hack写法\r\n        let length = this.themeTopYs.length\r\n        for (let i = 0; i < length - 1; i++) {\r\n          if (this.currentIndex !== i && (positionY >= this.themeTopYs[i] && positionY < this.themeTopYs[i + 1])) {\r\n            this.currentIndex = i\r\n            // console.log(this.currentIndex);\r\n            this.$refs.nav.currentIndex = this.currentIndex\r\n          }\r\n        }\r\n      \r\n      // 3.判断backTop是否显示\r\n      this.isShowBackTop = (-position.y) > 1000\r\n    },\r\n    addToCart() {\r\n      // 1.获取购物车需要的信息\r\n      const product = {}\r\n      product.image = this.topImages[0];\r\n      product.title = this.goods.title;\r\n      product.desc = this.goods.desc;\r\n      product.price = this.goods.realPrice;\r\n      product.iid = this.iid;\r\n\r\n      // 2.将商品添加到购物车里\r\n      // this.$store.commit('addCart', product)  传到mutations  方案一\r\n      // 传到actions 方案二\r\n      // this.$store.dispatch('addCart', product).then(res => {\r\n      //   console.log(res);\r\n      // })\r\n\r\n      // 使用映射关系\r\n      this.addCart(product).then(res => {\r\n        // this.show = true;\r\n        // this.message = res;\r\n\r\n        // setTimeout(() => {\r\n        //   this.show = false;\r\n        //   this.message = '';\r\n        // }, 1500)\r\n\r\n        console.log(this.$toast);\r\n        this.$toast.show(res, 2000)\r\n      })\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n#datail {\r\n  position: relative;\r\n  z-index: 9;\r\n  background-color: #fff;\r\n  height: 100vh;\r\n}\r\n\r\n.content {\r\n  height: calc(100% - 44px - 49px);\r\n}\r\n\r\n.detail-nav {\r\n  position: relative;\r\n  z-index: 9;\r\n  background-color: #fff;\r\n}\r\n</style>"]}]}